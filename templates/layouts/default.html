{% extends 'layouts/empty.html' %}

{% block style %}
    <link rel="stylesheet" href="{{ get_url(path="styles.css", trailing_slash=false) }}">
{% endblock style %}

{% block layout %}
<header>
    <a id="logo" href="{{ config.base_url }}">
        <span>{{ config.extra.sld }}</span>
        <span class="tld">.{{ config.extra.tld }}</span>
    </a>
    <nav>
        {% if config.extra.navigation %}
            <ul class="pages">
                {% for entry in config.extra.navigation %}
                    {% if entry.target is ending_with("_index.md") %}
                        {% set target = get_section(path=entry.target) %}
                    {% else %}
                        {% set target = get_page(path=entry.target) %}
                    {% endif %}
                    <li {% if target.path == current_path %}class="active"{% endif %}>
                        <a href="{{ target.permalink }}">{{ entry.title }}</a>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
        {% if config.extra.socials %}
            <ul class="socials">
                {% for entry in config.extra.socials %}
                    <li><a href="{{ entry.url }}">{{ entry.title }}</a></li>
                {% endfor %}
            </ul>
        {% endif %}
    </nav>
</header>

<main>
    <section id="content">
        {% block content %}{% endblock content %}
    </section>
    {% block side %}{% endblock side %}
</main>

<footer>
    {% set author = config.extra.author %}
    {% if author %}
        <section id="author">
            {% if author.fingerprint %}
                <img src="{{ get_url(path="fingerprint.svg") }}" alt="{{ author.fingerprint }}">
            {% endif %}
            
            <span>{{ author.name }}{% if author.email %} <span>{{author.email}}</span>{% endif %}</p>
            <p>{{ author.fingerprint }}</p>
            <code>gpg2 --locate-keys {{author.email}}</code>
        </section>
    {% endif %}

    <section id="copyright">
        <p>&copy; {{ now() | date(format="%Y") }} {{ config.extra.author.name }}</p>
    </section>
</footer>

{% endblock content %}